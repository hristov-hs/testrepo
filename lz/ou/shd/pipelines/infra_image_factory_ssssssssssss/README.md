# Pipeline: Infra Image Factory - Base Amazon Linux
## Description
<!-- WRITE SHORT OVERVIEW AND PURPOSE OF THIS MODULE OR SOLUTION -->
<!-- AUTO-GENERATED BY TERRAFORM HCL FORMATTER -->
## State location
State location is applicable only for solutions because modules are not deployed individually but as part of a solution.

| Region           | Bucket           | Key           |
|------------------|------------------|---------------|
| us-east-2 | hedgeserv-shd-lz-us-east-2-s3-state | lz/ou/core/shd/pipelines/infra_image_factory/terraform.tfstate |

## Inputs
Inputs are values that solution accepts and requires.

| Variable name    | Value type       | Default value | Required | Description |
|------------------|------------------|---------------|----------|-------------|
| account_id | none |  | false | Account ID |
| base | map(map(string)) | {"buildspec"=>{"image_os_type"=>"amazonlinux"}, "codebuild"=>{"codebuild_role_name"=>"InfrastructureCodeBuildCustomServiceRole", "name"=>"", "sfx"=>"cb-base"}, "git"=>{"repo_branch"=>"master", "repo_name"=>"hs_aws_applications_infra", "repo_owner"=>"hedgeserv"}} | false | none |
| component | none | ci | false | Module name or abbreviation |
| environment | none | shd | false | Environment name or abbreviation |
| infra_ecr | none | {"mutability"=>"IMMUTABLE", "name"=>"base_amazonlinux", "role_name"=>"InfrastructureCodeBuildCustomServiceRole", "scan_enabled"=>true} | false | none |
| naming_prefix | none |  | false | The prefix that will be used for all resources created. Default to project_environment_region_module_ |
| org_id | none |  | false | Organization id |
| ou | none | core | false | Project name or abbreviation |
| region | none |  | false | Bucket region |


## Outputs
Outputs include all the values that the solution provides to other modules or solutions.

| Name             | Value            | Description   |
|------------------|------------------|---------------|
| base_codebuild_project_name | none | none |
| infa_image_ecr_id | none | none |
| infra_image_ecr_url | none | none |
| stage | none | none |


## Dependences
All resources, modules and data sources which are external to this solution are listed in this section. The solution depends on them and any change in one or more of them may impact the solution.


### Data Resources

| Data resource type | Data resource name | Data resource provider |
|--------------------|--------------------|------------------------|
| aws_caller_identity | current | aws |
| aws_organizations_organization | current | aws |
| aws_region | current | aws |
| terraform_remote_state | accounts_bootstrap | terraform |
| terraform_remote_state | infra_image_factory-light | terraform |
| terraform_remote_state | org_prerequizites | terraform |

### Resources

This solution does not use any resources.

### Module Calls

| Module Name      | Module Source    |
|------------------|------------------|
| base_amazonlinux_dockerbuild | image_builder v1.0 |
| infra_image_ecr | ecr v1.0 |
